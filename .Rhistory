happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr,facntr,mocntr, # immigration background
etfruit,eatveg,dosprt,cgtsmke,alcfreq,height,weight) -> ess # health behavior
summary(ess$cptppola)
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
ppltrst, # general trust
polintr,cptppola,vote,prtvtbno, # political efficacy, trust
stflife,stfeco,stfgov, # satisfaction
gincdif,freehms,imbgeco,imueclt,imwbcnt, # political attitudes
happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr,facntr,mocntr, # immigration background
etfruit,eatveg,dosprt,cgtsmke,alcfreq,height,weight) -> ess # health behavior
?essurvey::import_rounds
ess <- essurvey::import_rounds(rounds = 7) %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
# Select variables
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
polintr,cptppol,vote,prtvtbno, # political efficacy, trust
stflife,stfeco,stfgov, # satisfaction
gincdif,freehms,imbgeco,imueclt,imwbcnt, # political attitudes
happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr,facntr,mocntr, # immigration background
etfruit,eatveg,dosprt,cgtsmke,alcfreq,height,weight) -> ess # health behavior
# Sample respondents (10% sample)
ess %>%
slice_sample(prop = .1) -> ess
haven::write_dta(ess,
path = "/Users/carloknotz/Desktop/ess.dta")
ess2 <- foreign::read.dta("/Users/carloknotz/Desktop/ess.dta")
?write_dta
haven::write_dta(ess,
path = "/Users/carloknotz/Desktop/ess.dta",
version = 12)
ess2 <- foreign::read.dta("/Users/carloknotz/Desktop/ess.dta")
haven::write_dta(ess,
path = "/Users/carloknotz/Desktop/ess.dta",
version = 11)
ess2 <- foreign::read.dta("/Users/carloknotz/Desktop/ess.dta")
haven::write_dta(ess,
path = "/Users/carloknotz/Desktop/ess.dta",
version = 8)
ess2 <- foreign::read.dta("/Users/carloknotz/Desktop/ess.dta")
ess <- essurvey::import_country(country = "Norway",
rounds = 9)
ess <- essurvey::import_rounds(rounds = 7,
format = "sav") %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
ess <- essurvey::import_rounds(rounds = 7,
format = "spss") %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
ess <- essurvey::import_rounds(rounds = 7) %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
polintr,cptppol,vote,prtvtbno, # political efficacy, trust
stflife,stfeco,stfgov, # satisfaction
gincdif,freehms,imbgeco,imueclt,imwbcnt, # political attitudes
happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr,facntr,mocntr, # immigration background
etfruit,eatveg,dosprt,cgtsmke,alcfreq,height,weight) -> ess # health behavior
ess %>%
slice_sample(prop = .1) -> ess
ess %>%
select(gndr) %>%
mutate(gndr2 = as_factor(gndr))
View(ess)
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
vote, # political behavior
stflife, # satisfaction
gincdif,freehms,imwbcnt, # political attitudes
happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr, # immigration background
height,weight) -> ess # physique
ess %>%
mutate(gndr = as_factor(gndr),
edlvdno = as_factor(edlvdno),
mainact = as_factor(mainact),
mbtru = as_factor(mbtru),
hinctnta = as_factor(hinctnta),
tvtot = as_factor(tvtot),
ppltrst = as_factor(ppltrst),
vote = as_factor(vote),
prtvtbno = as_factor(prtvtbno),
stflife = as_factor(stflife),
gincdif = as_factor(gincdif),
freehms = as_factor(freehms),
imwbcnt = as_factor(imwbcnt),
happy = as_factor(happy),
health = as_factor(health),
ctzcntr = as_factor(ctzcntr),
brncntr = as_factor(brncntr))
ess %>%
mutate(gndr = as_factor(gndr),
edlvdno = as_factor(edlvdno),
mainact = as_factor(mainact),
mbtru = as_factor(mbtru),
hinctnta = as_factor(hinctnta),
tvtot = as_factor(tvtot),
ppltrst = as_factor(ppltrst),
vote = as_factor(vote),
stflife = as_factor(stflife),
gincdif = as_factor(gincdif),
freehms = as_factor(freehms),
imwbcnt = as_factor(imwbcnt),
happy = as_factor(happy),
health = as_factor(health),
ctzcntr = as_factor(ctzcntr),
brncntr = as_factor(brncntr))
ess <- essurvey::import_rounds(rounds = 7) %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
# Select variables
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
vote, # political behavior
stflife, # satisfaction
gincdif,freehms,imwbcnt, # political attitudes
happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr, # immigration background
height,weight) -> ess # physique
# Sample respondents (10% sample)
ess %>%
slice_sample(prop = .1) -> ess
# Convert to regular data.frame
###############################
ess %>%
mutate(gndr = as_factor(gndr),
edlvdno = as_factor(edlvdno),
mainact = as_factor(mainact),
mbtru = as_factor(mbtru),
hinctnta = as_factor(hinctnta),
tvtot = as_factor(tvtot),
ppltrst = as_factor(ppltrst),
vote = as_factor(vote),
stflife = as_factor(stflife),
gincdif = as_factor(gincdif),
freehms = as_factor(freehms),
imwbcnt = as_factor(imwbcnt),
happy = as_factor(happy),
health = as_factor(health),
ctzcntr = as_factor(ctzcntr),
brncntr = as_factor(brncntr)) -> ess
ess %>%
mutate(height = as_vector(height))
ess %>%
select(height) %>%
mutate(height = as_vector(height))
ess %>%
select(height) %>%
mutate(height = as.numeric(height))
ess %>%
select(height) %>%
mutate(height = as.numeric(height)) -> ess2
typeof(ess2$height)
class(ess2$height)
class(ess$height)
rm(ess2)
class(ess$idno)
class(ess$essround)
ess %>%
mutate(height = as.numeric(height),
weight = as.numeric(weight),
agea = as.numeric(agea))
ess <- essurvey::import_rounds(rounds = 7) %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
# Select variables
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
vote, # political behavior
stflife, # satisfaction
gincdif,freehms,imwbcnt, # political attitudes
happy,health, # health, well-being in general
rlgblg, # religion
ctzcntr,brncntr, # immigration background
height,weight) -> ess # physique
ess %>%
slice_sample(prop = .1) -> ess
# Convert to regular data.frame
###############################
ess %>%
mutate(gndr = as_factor(gndr), # factors
edlvdno = as_factor(edlvdno),
mainact = as_factor(mainact),
mbtru = as_factor(mbtru),
hinctnta = as_factor(hinctnta),
tvtot = as_factor(tvtot),
ppltrst = as_factor(ppltrst),
vote = as_factor(vote),
stflife = as_factor(stflife),
gincdif = as_factor(gincdif),
freehms = as_factor(freehms),
imwbcnt = as_factor(imwbcnt),
happy = as_factor(happy),
health = as_factor(health),
ctzcntr = as_factor(ctzcntr),
brncntr = as_factor(brncntr))  %>%
mutate(height = as.numeric(height), # numerics
weight = as.numeric(weight),
agea = as.numeric(agea)) -> ess
lapply(ess, function(x){ attributes(x) <- NULL; x})
ess2 <- lapply(ess, function(x){ attributes(x) <- NULL; x})
ess2 <- as.data.frame(lapply(ess, function(x){ attributes(x) <- NULL; x}))
ess2 <- as.data.frame(lapply(ess, function(x){ attr(x) <- NULL; x}))
ess2 <- as.data.frame(lapply(ess, function(x){ labelled::remove_attributes(x, c("label","format.stata"))}))
ess <- essurvey::import_rounds(rounds = 7) %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
# Select variables
ess %>%
select(name,essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
vote, # political behavior
stflife, # satisfaction
gincdif,freehms,imwbcnt, # political attitudes
happy,health, # health, well-being in general
ctzcntr,brncntr, # immigration background
height,weight) -> ess # physique
# Sample respondents (10% sample)
ess %>%
slice_sample(prop = .1) -> ess
# Convert to regular data.frame
###############################
ess %>%
mutate(gndr = as_factor(gndr), # factors
edlvdno = as_factor(edlvdno),
mainact = as_factor(mainact),
mbtru = as_factor(mbtru),
hinctnta = as_factor(hinctnta),
tvtot = as_factor(tvtot),
ppltrst = as_factor(ppltrst),
vote = as_factor(vote),
stflife = as_factor(stflife),
gincdif = as_factor(gincdif),
freehms = as_factor(freehms),
imwbcnt = as_factor(imwbcnt),
happy = as_factor(happy),
health = as_factor(health),
ctzcntr = as_factor(ctzcntr),
brncntr = as_factor(brncntr))  %>%
mutate(height = as.numeric(height), # numerics
weight = as.numeric(weight),
agea = as.numeric(agea)) -> ess
# Remove attr()
ess <- as.data.frame(lapply(ess,
function(x){ labelled::remove_attributes(x,
c("label",
"format.stata"))}))
ess %>%
select(essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
vote, # political behavior
stflife, # satisfaction
gincdif,freehms,imwbcnt, # political attitudes
happy,health, # health, well-being in general
ctzcntr,brncntr, # immigration background
height,weight) -> ess # physique
rm(ess2)
# Generating ESS sample data for BST290 package
###############################################
library(tidyverse)
library(essurvey)
set.seed(42)
essurvey::set_email("carlo.knotz@gmail.com")
ess <- essurvey::import_rounds(rounds = 7) %>%
filter(cntry=="NO") %>%
essurvey::recode_missings()
# Select variables
ess %>%
select(essround,idno,cntry, # admin
gndr,agea,edlvdno,mainact,mbtru,hinctnta, # Socio-demographics
tvtot, # media use
ppltrst, # general trust
vote, # political behavior
stflife, # satisfaction
gincdif,freehms,imwbcnt, # political attitudes
happy,health, # health, well-being in general
ctzcntr,brncntr, # immigration background
height,weight) -> ess # physique
# Sample respondents (10% sample)
ess %>%
slice_sample(prop = .1) -> ess
# Convert to regular data.frame
###############################
ess %>%
mutate(gndr = as_factor(gndr), # factors
edlvdno = as_factor(edlvdno),
mainact = as_factor(mainact),
mbtru = as_factor(mbtru),
hinctnta = as_factor(hinctnta),
tvtot = as_factor(tvtot),
ppltrst = as_factor(ppltrst),
vote = as_factor(vote),
stflife = as_factor(stflife),
gincdif = as_factor(gincdif),
freehms = as_factor(freehms),
imwbcnt = as_factor(imwbcnt),
happy = as_factor(happy),
health = as_factor(health),
ctzcntr = as_factor(ctzcntr),
brncntr = as_factor(brncntr))  %>%
mutate(height = as.numeric(height), # numerics
weight = as.numeric(weight),
agea = as.numeric(agea)) -> ess
# Remove attr()
ess <- as.data.frame(lapply(ess,
function(x){ labelled::remove_attributes(x,
c("label",
"format.stata"))}))
# Save to Rda
#############
# save(ess,
#      file = "ess_no14.Rda")
library(devtools)
library(roxygen2)
usethis::use_data(ess)
usethis::use_data(ess, overwrite = T)
document()
check()
document()
check()
document()
check()
install()
library(devtools)
library(roxygen2)
document()
check()
check()
install()
library(devtools)
library(roxygen2)
document()
check()
install()
?is.factor
library(devtools)
library(roxygen2)
document()
check()
check()
install()
library(devtools)
library(roxygen2)
document()
check()
install()
library(devtools)
library(roxygen2)
check()
install()
library(MASS)
library(shiny)
library(shinydashboard)
library(shinyWidgets)
library(dashboardthemes)
library(shinyjs)
library(ggplot2)
library(dplyr)
library(xtable)
packageVersion("MASS")
packageVersion("shiny")
packageVersion("shinydashboard")
library(devtools)
library(roxygen2)
check()
packageVersion("shinyWidgets")
packageVersion("dashboardthemes")
packageVersion("shinyjs")
packageVersion("ggplot2")\
packageVersion("ggplot2")
packageVersion("dplyr")
packageVersion("xtable")
check()
?system.file
document()
document()
document()
check()
check()
install()
library(devtools)
library(roxygen2)
document()
check()
install()
library(devtools)
library(roxygen2)
document()
check()
usethis::use_tutorial("debug_tut2","De-bugging exercises: Getting your data into R")
usethis::use_tutorial("debug_tut3", "De-bugging exercises: Getting to know your data")
document()
check()
packageVersion("learnr")
usethis::use_tutorial("debug_tut4", "De-bugging exercises: Data cleaning & management")
check()
install()
library(devtools)
library(roxygen2)
usethis::use_tutorial("debug_tut5", "De-bugging exercises: Data visualization")
check()
install()
library(devtools)
library(roxygen2)
usethis::use_readme_md()
check()
library(devtools)
library(roxygen2)
document()
check()
install()
?bst290::ess
library(devtools)
library(roxygen2)
document()
install()
bst290::ess
?bst290::ess
data(ess, package = "bst290")
library(devtools)
library(roxygen2)
document()
install()
?bst290::ess
library(devtools)
document()
install()
?bst290::ess
?bst290::ess
bst290::practiceStatistics()
document()
library(devtools)
library(roxygen2)
document()
install()
library(devtools)
library(roxygen2)
check()
install()
library(bst290)
practiceStatistics()
shiny::runApp('inst/stats-dashboard')
runApp('inst/stats-dashboard')
runApp('inst/stats-dashboard')
library(devtools)
library(roxygen2)
document()
install()
shiny::runApp('inst/stats-dashboard')
runApp('inst/stats-dashboard')
runApp('inst/stats-dashboard')
runApp('inst/stats-dashboard')
roxygen2::document()
devtools::document()
library(devtools)
library(roxygen2)
document()
check()
install()
unlink('inst/tutorials/debug_tut3/debug_tut3_cache', recursive = TRUE)
rmarkdown::shiny_prerendered_clean('inst/tutorials/debug_tut3/debug_tut3.Rmd')
library(devtools)
library(roxygen2)
document()
check()
install()
shiny::runApp('inst/stats-dashboard')
runApp('inst/stats-dashboard')
shiny::runApp('inst/stats-dashboard')
?dplyr::mutate
runApp('inst/stats-dashboard')
shiny::shinyApp()
?shiny::shinyApp
?shiny::runApp
library(devtools)
library(roxygen2)
check()
install()
